//
// DO NOT EDIT.
// swift-format-ignore-file
//
// Generated by the protocol buffer compiler.
// Source: github.com/moby/buildkit/api/services/control/control.proto
//
import GRPC
import NIO
import NIOConcurrencyHelpers
import SwiftProtobuf


/// Usage: instantiate `Moby_Buildkit_V1_ControlClient`, then call methods of this protocol to make API calls.
public protocol Moby_Buildkit_V1_ControlClientProtocol: GRPCClient {
  var serviceName: String { get }
  var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? { get }

  func diskUsage(
    _ request: Moby_Buildkit_V1_DiskUsageRequest,
    callOptions: CallOptions?
  ) -> UnaryCall<Moby_Buildkit_V1_DiskUsageRequest, Moby_Buildkit_V1_DiskUsageResponse>

  func prune(
    _ request: Moby_Buildkit_V1_PruneRequest,
    callOptions: CallOptions?,
    handler: @escaping (Moby_Buildkit_V1_UsageRecord) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_PruneRequest, Moby_Buildkit_V1_UsageRecord>

  func solve(
    _ request: Moby_Buildkit_V1_SolveRequest,
    callOptions: CallOptions?
  ) -> UnaryCall<Moby_Buildkit_V1_SolveRequest, Moby_Buildkit_V1_SolveResponse>

  func status(
    _ request: Moby_Buildkit_V1_StatusRequest,
    callOptions: CallOptions?,
    handler: @escaping (Moby_Buildkit_V1_StatusResponse) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_StatusRequest, Moby_Buildkit_V1_StatusResponse>

  func session(
    callOptions: CallOptions?,
    handler: @escaping (Moby_Buildkit_V1_BytesMessage) -> Void
  ) -> BidirectionalStreamingCall<Moby_Buildkit_V1_BytesMessage, Moby_Buildkit_V1_BytesMessage>

  func listWorkers(
    _ request: Moby_Buildkit_V1_ListWorkersRequest,
    callOptions: CallOptions?
  ) -> UnaryCall<Moby_Buildkit_V1_ListWorkersRequest, Moby_Buildkit_V1_ListWorkersResponse>

  func info(
    _ request: Moby_Buildkit_V1_InfoRequest,
    callOptions: CallOptions?
  ) -> UnaryCall<Moby_Buildkit_V1_InfoRequest, Moby_Buildkit_V1_InfoResponse>

  func listenBuildHistory(
    _ request: Moby_Buildkit_V1_BuildHistoryRequest,
    callOptions: CallOptions?,
    handler: @escaping (Moby_Buildkit_V1_BuildHistoryEvent) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_BuildHistoryRequest, Moby_Buildkit_V1_BuildHistoryEvent>

  func updateBuildHistory(
    _ request: Moby_Buildkit_V1_UpdateBuildHistoryRequest,
    callOptions: CallOptions?
  ) -> UnaryCall<Moby_Buildkit_V1_UpdateBuildHistoryRequest, Moby_Buildkit_V1_UpdateBuildHistoryResponse>
}

extension Moby_Buildkit_V1_ControlClientProtocol {
  public var serviceName: String {
    return "moby.buildkit.v1.Control"
  }

  /// Unary call to DiskUsage
  ///
  /// - Parameters:
  ///   - request: Request to send to DiskUsage.
  ///   - callOptions: Call options.
  /// - Returns: A `UnaryCall` with futures for the metadata, status and response.
  public func diskUsage(
    _ request: Moby_Buildkit_V1_DiskUsageRequest,
    callOptions: CallOptions? = nil
  ) -> UnaryCall<Moby_Buildkit_V1_DiskUsageRequest, Moby_Buildkit_V1_DiskUsageResponse> {
    return self.makeUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.diskUsage.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeDiskUsageInterceptors() ?? []
    )
  }

  /// Server streaming call to Prune
  ///
  /// - Parameters:
  ///   - request: Request to send to Prune.
  ///   - callOptions: Call options.
  ///   - handler: A closure called when each response is received from the server.
  /// - Returns: A `ServerStreamingCall` with futures for the metadata and status.
  public func prune(
    _ request: Moby_Buildkit_V1_PruneRequest,
    callOptions: CallOptions? = nil,
    handler: @escaping (Moby_Buildkit_V1_UsageRecord) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_PruneRequest, Moby_Buildkit_V1_UsageRecord> {
    return self.makeServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.prune.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makePruneInterceptors() ?? [],
      handler: handler
    )
  }

  /// Unary call to Solve
  ///
  /// - Parameters:
  ///   - request: Request to send to Solve.
  ///   - callOptions: Call options.
  /// - Returns: A `UnaryCall` with futures for the metadata, status and response.
  public func solve(
    _ request: Moby_Buildkit_V1_SolveRequest,
    callOptions: CallOptions? = nil
  ) -> UnaryCall<Moby_Buildkit_V1_SolveRequest, Moby_Buildkit_V1_SolveResponse> {
    return self.makeUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.solve.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSolveInterceptors() ?? []
    )
  }

  /// Server streaming call to Status
  ///
  /// - Parameters:
  ///   - request: Request to send to Status.
  ///   - callOptions: Call options.
  ///   - handler: A closure called when each response is received from the server.
  /// - Returns: A `ServerStreamingCall` with futures for the metadata and status.
  public func status(
    _ request: Moby_Buildkit_V1_StatusRequest,
    callOptions: CallOptions? = nil,
    handler: @escaping (Moby_Buildkit_V1_StatusResponse) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_StatusRequest, Moby_Buildkit_V1_StatusResponse> {
    return self.makeServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.status.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeStatusInterceptors() ?? [],
      handler: handler
    )
  }

  /// Bidirectional streaming call to Session
  ///
  /// Callers should use the `send` method on the returned object to send messages
  /// to the server. The caller should send an `.end` after the final message has been sent.
  ///
  /// - Parameters:
  ///   - callOptions: Call options.
  ///   - handler: A closure called when each response is received from the server.
  /// - Returns: A `ClientStreamingCall` with futures for the metadata and status.
  public func session(
    callOptions: CallOptions? = nil,
    handler: @escaping (Moby_Buildkit_V1_BytesMessage) -> Void
  ) -> BidirectionalStreamingCall<Moby_Buildkit_V1_BytesMessage, Moby_Buildkit_V1_BytesMessage> {
    return self.makeBidirectionalStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.session.path,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSessionInterceptors() ?? [],
      handler: handler
    )
  }

  /// Unary call to ListWorkers
  ///
  /// - Parameters:
  ///   - request: Request to send to ListWorkers.
  ///   - callOptions: Call options.
  /// - Returns: A `UnaryCall` with futures for the metadata, status and response.
  public func listWorkers(
    _ request: Moby_Buildkit_V1_ListWorkersRequest,
    callOptions: CallOptions? = nil
  ) -> UnaryCall<Moby_Buildkit_V1_ListWorkersRequest, Moby_Buildkit_V1_ListWorkersResponse> {
    return self.makeUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listWorkers.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListWorkersInterceptors() ?? []
    )
  }

  /// Unary call to Info
  ///
  /// - Parameters:
  ///   - request: Request to send to Info.
  ///   - callOptions: Call options.
  /// - Returns: A `UnaryCall` with futures for the metadata, status and response.
  public func info(
    _ request: Moby_Buildkit_V1_InfoRequest,
    callOptions: CallOptions? = nil
  ) -> UnaryCall<Moby_Buildkit_V1_InfoRequest, Moby_Buildkit_V1_InfoResponse> {
    return self.makeUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.info.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeInfoInterceptors() ?? []
    )
  }

  /// Server streaming call to ListenBuildHistory
  ///
  /// - Parameters:
  ///   - request: Request to send to ListenBuildHistory.
  ///   - callOptions: Call options.
  ///   - handler: A closure called when each response is received from the server.
  /// - Returns: A `ServerStreamingCall` with futures for the metadata and status.
  public func listenBuildHistory(
    _ request: Moby_Buildkit_V1_BuildHistoryRequest,
    callOptions: CallOptions? = nil,
    handler: @escaping (Moby_Buildkit_V1_BuildHistoryEvent) -> Void
  ) -> ServerStreamingCall<Moby_Buildkit_V1_BuildHistoryRequest, Moby_Buildkit_V1_BuildHistoryEvent> {
    return self.makeServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listenBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListenBuildHistoryInterceptors() ?? [],
      handler: handler
    )
  }

  /// Unary call to UpdateBuildHistory
  ///
  /// - Parameters:
  ///   - request: Request to send to UpdateBuildHistory.
  ///   - callOptions: Call options.
  /// - Returns: A `UnaryCall` with futures for the metadata, status and response.
  public func updateBuildHistory(
    _ request: Moby_Buildkit_V1_UpdateBuildHistoryRequest,
    callOptions: CallOptions? = nil
  ) -> UnaryCall<Moby_Buildkit_V1_UpdateBuildHistoryRequest, Moby_Buildkit_V1_UpdateBuildHistoryResponse> {
    return self.makeUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.updateBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeUpdateBuildHistoryInterceptors() ?? []
    )
  }
}

@available(*, deprecated)
extension Moby_Buildkit_V1_ControlClient: @unchecked Sendable {}

@available(*, deprecated, renamed: "Moby_Buildkit_V1_ControlNIOClient")
public final class Moby_Buildkit_V1_ControlClient: Moby_Buildkit_V1_ControlClientProtocol {
  private let lock = Lock()
  private var _defaultCallOptions: CallOptions
  private var _interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol?
  public let channel: GRPCChannel
  public var defaultCallOptions: CallOptions {
    get { self.lock.withLock { return self._defaultCallOptions } }
    set { self.lock.withLockVoid { self._defaultCallOptions = newValue } }
  }
  public var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? {
    get { self.lock.withLock { return self._interceptors } }
    set { self.lock.withLockVoid { self._interceptors = newValue } }
  }

  /// Creates a client for the moby.buildkit.v1.Control service.
  ///
  /// - Parameters:
  ///   - channel: `GRPCChannel` to the service host.
  ///   - defaultCallOptions: Options to use for each service call if the user doesn't provide them.
  ///   - interceptors: A factory providing interceptors for each RPC.
  public init(
    channel: GRPCChannel,
    defaultCallOptions: CallOptions = CallOptions(),
    interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? = nil
  ) {
    self.channel = channel
    self._defaultCallOptions = defaultCallOptions
    self._interceptors = interceptors
  }
}

public struct Moby_Buildkit_V1_ControlNIOClient: Moby_Buildkit_V1_ControlClientProtocol {
  public var channel: GRPCChannel
  public var defaultCallOptions: CallOptions
  public var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol?

  /// Creates a client for the moby.buildkit.v1.Control service.
  ///
  /// - Parameters:
  ///   - channel: `GRPCChannel` to the service host.
  ///   - defaultCallOptions: Options to use for each service call if the user doesn't provide them.
  ///   - interceptors: A factory providing interceptors for each RPC.
  public init(
    channel: GRPCChannel,
    defaultCallOptions: CallOptions = CallOptions(),
    interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? = nil
  ) {
    self.channel = channel
    self.defaultCallOptions = defaultCallOptions
    self.interceptors = interceptors
  }
}

@available(macOS 10.15, iOS 13, tvOS 13, watchOS 6, *)
public protocol Moby_Buildkit_V1_ControlAsyncClientProtocol: GRPCClient {
  static var serviceDescriptor: GRPCServiceDescriptor { get }
  var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? { get }

  func makeDiskUsageCall(
    _ request: Moby_Buildkit_V1_DiskUsageRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_DiskUsageRequest, Moby_Buildkit_V1_DiskUsageResponse>

  func makePruneCall(
    _ request: Moby_Buildkit_V1_PruneRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_PruneRequest, Moby_Buildkit_V1_UsageRecord>

  func makeSolveCall(
    _ request: Moby_Buildkit_V1_SolveRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_SolveRequest, Moby_Buildkit_V1_SolveResponse>

  func makeStatusCall(
    _ request: Moby_Buildkit_V1_StatusRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_StatusRequest, Moby_Buildkit_V1_StatusResponse>

  func makeSessionCall(
    callOptions: CallOptions?
  ) -> GRPCAsyncBidirectionalStreamingCall<Moby_Buildkit_V1_BytesMessage, Moby_Buildkit_V1_BytesMessage>

  func makeListWorkersCall(
    _ request: Moby_Buildkit_V1_ListWorkersRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_ListWorkersRequest, Moby_Buildkit_V1_ListWorkersResponse>

  func makeInfoCall(
    _ request: Moby_Buildkit_V1_InfoRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_InfoRequest, Moby_Buildkit_V1_InfoResponse>

  func makeListenBuildHistoryCall(
    _ request: Moby_Buildkit_V1_BuildHistoryRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_BuildHistoryRequest, Moby_Buildkit_V1_BuildHistoryEvent>

  func makeUpdateBuildHistoryCall(
    _ request: Moby_Buildkit_V1_UpdateBuildHistoryRequest,
    callOptions: CallOptions?
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_UpdateBuildHistoryRequest, Moby_Buildkit_V1_UpdateBuildHistoryResponse>
}

@available(macOS 10.15, iOS 13, tvOS 13, watchOS 6, *)
extension Moby_Buildkit_V1_ControlAsyncClientProtocol {
  public static var serviceDescriptor: GRPCServiceDescriptor {
    return Moby_Buildkit_V1_ControlClientMetadata.serviceDescriptor
  }

  public var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? {
    return nil
  }

  public func makeDiskUsageCall(
    _ request: Moby_Buildkit_V1_DiskUsageRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_DiskUsageRequest, Moby_Buildkit_V1_DiskUsageResponse> {
    return self.makeAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.diskUsage.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeDiskUsageInterceptors() ?? []
    )
  }

  public func makePruneCall(
    _ request: Moby_Buildkit_V1_PruneRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_PruneRequest, Moby_Buildkit_V1_UsageRecord> {
    return self.makeAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.prune.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makePruneInterceptors() ?? []
    )
  }

  public func makeSolveCall(
    _ request: Moby_Buildkit_V1_SolveRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_SolveRequest, Moby_Buildkit_V1_SolveResponse> {
    return self.makeAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.solve.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSolveInterceptors() ?? []
    )
  }

  public func makeStatusCall(
    _ request: Moby_Buildkit_V1_StatusRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_StatusRequest, Moby_Buildkit_V1_StatusResponse> {
    return self.makeAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.status.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeStatusInterceptors() ?? []
    )
  }

  public func makeSessionCall(
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncBidirectionalStreamingCall<Moby_Buildkit_V1_BytesMessage, Moby_Buildkit_V1_BytesMessage> {
    return self.makeAsyncBidirectionalStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.session.path,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSessionInterceptors() ?? []
    )
  }

  public func makeListWorkersCall(
    _ request: Moby_Buildkit_V1_ListWorkersRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_ListWorkersRequest, Moby_Buildkit_V1_ListWorkersResponse> {
    return self.makeAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listWorkers.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListWorkersInterceptors() ?? []
    )
  }

  public func makeInfoCall(
    _ request: Moby_Buildkit_V1_InfoRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_InfoRequest, Moby_Buildkit_V1_InfoResponse> {
    return self.makeAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.info.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeInfoInterceptors() ?? []
    )
  }

  public func makeListenBuildHistoryCall(
    _ request: Moby_Buildkit_V1_BuildHistoryRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncServerStreamingCall<Moby_Buildkit_V1_BuildHistoryRequest, Moby_Buildkit_V1_BuildHistoryEvent> {
    return self.makeAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listenBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListenBuildHistoryInterceptors() ?? []
    )
  }

  public func makeUpdateBuildHistoryCall(
    _ request: Moby_Buildkit_V1_UpdateBuildHistoryRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncUnaryCall<Moby_Buildkit_V1_UpdateBuildHistoryRequest, Moby_Buildkit_V1_UpdateBuildHistoryResponse> {
    return self.makeAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.updateBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeUpdateBuildHistoryInterceptors() ?? []
    )
  }
}

@available(macOS 10.15, iOS 13, tvOS 13, watchOS 6, *)
extension Moby_Buildkit_V1_ControlAsyncClientProtocol {
  public func diskUsage(
    _ request: Moby_Buildkit_V1_DiskUsageRequest,
    callOptions: CallOptions? = nil
  ) async throws -> Moby_Buildkit_V1_DiskUsageResponse {
    return try await self.performAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.diskUsage.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeDiskUsageInterceptors() ?? []
    )
  }

  public func prune(
    _ request: Moby_Buildkit_V1_PruneRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncResponseStream<Moby_Buildkit_V1_UsageRecord> {
    return self.performAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.prune.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makePruneInterceptors() ?? []
    )
  }

  public func solve(
    _ request: Moby_Buildkit_V1_SolveRequest,
    callOptions: CallOptions? = nil
  ) async throws -> Moby_Buildkit_V1_SolveResponse {
    return try await self.performAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.solve.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSolveInterceptors() ?? []
    )
  }

  public func status(
    _ request: Moby_Buildkit_V1_StatusRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncResponseStream<Moby_Buildkit_V1_StatusResponse> {
    return self.performAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.status.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeStatusInterceptors() ?? []
    )
  }

  public func session<RequestStream>(
    _ requests: RequestStream,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncResponseStream<Moby_Buildkit_V1_BytesMessage> where RequestStream: Sequence, RequestStream.Element == Moby_Buildkit_V1_BytesMessage {
    return self.performAsyncBidirectionalStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.session.path,
      requests: requests,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSessionInterceptors() ?? []
    )
  }

  public func session<RequestStream>(
    _ requests: RequestStream,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncResponseStream<Moby_Buildkit_V1_BytesMessage> where RequestStream: AsyncSequence & Sendable, RequestStream.Element == Moby_Buildkit_V1_BytesMessage {
    return self.performAsyncBidirectionalStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.session.path,
      requests: requests,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeSessionInterceptors() ?? []
    )
  }

  public func listWorkers(
    _ request: Moby_Buildkit_V1_ListWorkersRequest,
    callOptions: CallOptions? = nil
  ) async throws -> Moby_Buildkit_V1_ListWorkersResponse {
    return try await self.performAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listWorkers.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListWorkersInterceptors() ?? []
    )
  }

  public func info(
    _ request: Moby_Buildkit_V1_InfoRequest,
    callOptions: CallOptions? = nil
  ) async throws -> Moby_Buildkit_V1_InfoResponse {
    return try await self.performAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.info.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeInfoInterceptors() ?? []
    )
  }

  public func listenBuildHistory(
    _ request: Moby_Buildkit_V1_BuildHistoryRequest,
    callOptions: CallOptions? = nil
  ) -> GRPCAsyncResponseStream<Moby_Buildkit_V1_BuildHistoryEvent> {
    return self.performAsyncServerStreamingCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.listenBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeListenBuildHistoryInterceptors() ?? []
    )
  }

  public func updateBuildHistory(
    _ request: Moby_Buildkit_V1_UpdateBuildHistoryRequest,
    callOptions: CallOptions? = nil
  ) async throws -> Moby_Buildkit_V1_UpdateBuildHistoryResponse {
    return try await self.performAsyncUnaryCall(
      path: Moby_Buildkit_V1_ControlClientMetadata.Methods.updateBuildHistory.path,
      request: request,
      callOptions: callOptions ?? self.defaultCallOptions,
      interceptors: self.interceptors?.makeUpdateBuildHistoryInterceptors() ?? []
    )
  }
}

@available(macOS 10.15, iOS 13, tvOS 13, watchOS 6, *)
public struct Moby_Buildkit_V1_ControlAsyncClient: Moby_Buildkit_V1_ControlAsyncClientProtocol {
  public var channel: GRPCChannel
  public var defaultCallOptions: CallOptions
  public var interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol?

  public init(
    channel: GRPCChannel,
    defaultCallOptions: CallOptions = CallOptions(),
    interceptors: Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol? = nil
  ) {
    self.channel = channel
    self.defaultCallOptions = defaultCallOptions
    self.interceptors = interceptors
  }
}

public protocol Moby_Buildkit_V1_ControlClientInterceptorFactoryProtocol: Sendable {

  /// - Returns: Interceptors to use when invoking 'diskUsage'.
  func makeDiskUsageInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_DiskUsageRequest, Moby_Buildkit_V1_DiskUsageResponse>]

  /// - Returns: Interceptors to use when invoking 'prune'.
  func makePruneInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_PruneRequest, Moby_Buildkit_V1_UsageRecord>]

  /// - Returns: Interceptors to use when invoking 'solve'.
  func makeSolveInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_SolveRequest, Moby_Buildkit_V1_SolveResponse>]

  /// - Returns: Interceptors to use when invoking 'status'.
  func makeStatusInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_StatusRequest, Moby_Buildkit_V1_StatusResponse>]

  /// - Returns: Interceptors to use when invoking 'session'.
  func makeSessionInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_BytesMessage, Moby_Buildkit_V1_BytesMessage>]

  /// - Returns: Interceptors to use when invoking 'listWorkers'.
  func makeListWorkersInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_ListWorkersRequest, Moby_Buildkit_V1_ListWorkersResponse>]

  /// - Returns: Interceptors to use when invoking 'info'.
  func makeInfoInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_InfoRequest, Moby_Buildkit_V1_InfoResponse>]

  /// - Returns: Interceptors to use when invoking 'listenBuildHistory'.
  func makeListenBuildHistoryInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_BuildHistoryRequest, Moby_Buildkit_V1_BuildHistoryEvent>]

  /// - Returns: Interceptors to use when invoking 'updateBuildHistory'.
  func makeUpdateBuildHistoryInterceptors() -> [ClientInterceptor<Moby_Buildkit_V1_UpdateBuildHistoryRequest, Moby_Buildkit_V1_UpdateBuildHistoryResponse>]
}

public enum Moby_Buildkit_V1_ControlClientMetadata {
  public static let serviceDescriptor = GRPCServiceDescriptor(
    name: "Control",
    fullName: "moby.buildkit.v1.Control",
    methods: [
      Moby_Buildkit_V1_ControlClientMetadata.Methods.diskUsage,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.prune,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.solve,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.status,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.session,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.listWorkers,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.info,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.listenBuildHistory,
      Moby_Buildkit_V1_ControlClientMetadata.Methods.updateBuildHistory,
    ]
  )

  public enum Methods {
    public static let diskUsage = GRPCMethodDescriptor(
      name: "DiskUsage",
      path: "/moby.buildkit.v1.Control/DiskUsage",
      type: GRPCCallType.unary
    )

    public static let prune = GRPCMethodDescriptor(
      name: "Prune",
      path: "/moby.buildkit.v1.Control/Prune",
      type: GRPCCallType.serverStreaming
    )

    public static let solve = GRPCMethodDescriptor(
      name: "Solve",
      path: "/moby.buildkit.v1.Control/Solve",
      type: GRPCCallType.unary
    )

    public static let status = GRPCMethodDescriptor(
      name: "Status",
      path: "/moby.buildkit.v1.Control/Status",
      type: GRPCCallType.serverStreaming
    )

    public static let session = GRPCMethodDescriptor(
      name: "Session",
      path: "/moby.buildkit.v1.Control/Session",
      type: GRPCCallType.bidirectionalStreaming
    )

    public static let listWorkers = GRPCMethodDescriptor(
      name: "ListWorkers",
      path: "/moby.buildkit.v1.Control/ListWorkers",
      type: GRPCCallType.unary
    )

    public static let info = GRPCMethodDescriptor(
      name: "Info",
      path: "/moby.buildkit.v1.Control/Info",
      type: GRPCCallType.unary
    )

    public static let listenBuildHistory = GRPCMethodDescriptor(
      name: "ListenBuildHistory",
      path: "/moby.buildkit.v1.Control/ListenBuildHistory",
      type: GRPCCallType.serverStreaming
    )

    public static let updateBuildHistory = GRPCMethodDescriptor(
      name: "UpdateBuildHistory",
      path: "/moby.buildkit.v1.Control/UpdateBuildHistory",
      type: GRPCCallType.unary
    )
  }
}

